# Unix
alias ls="ls -al"
alias rm="trash"

# git
alias g="git"
alias gadd="git add -u && git add . && git status"

# Bundler
alias be="bundle exec"
alias br="rake_command"

# Rails
alias rc="rails_command console"
alias rg="rails_command generate"
alias rs="foreman_command"
alias rake="rake_command"
alias rspec="rspec_command"
alias migrate="rake_command db:migrate"

# Heroku
alias h="heroku"
alias hr="heroku run bundle exec rake"

# Postgres
alias pg_start="pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start"
alias pg_stop="pg_ctl -D /usr/local/var/postgres stop -s -m fast"

# Redis
alias redis_start="redis-server /usr/local/etc/redis.conf --daemonize yes"
alias redis_stop="redis-cli shutdown"

# Miscellaneous
alias brewhaha="brew update && brew cleanup -s && brew outdated"

# Helpers
foreman_command() {
  if [ -f Procfile.dev ]; then
    foreman start -f Procfile.dev
  else
    if [ -f Procfile ]; then
      foreman start
    else
      rails_command server
    fi
  fi
}

rails_command() {
  if [ -f bin/rails ]; then
    bin/rails "$@"
  else
    bundle exec rails "$@"
  fi
}

rake_command() {
  if [ -f bin/rake ]; then
    bin/rake "$@"
  else
    bundle exec rake "$@"
  fi
}

rspec_command() {
  if [ -f bin/rspec ]; then
    bin/rspec "$@"
  else
    bundle exec rspec "$@"
  fi
}
